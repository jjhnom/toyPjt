[gd_scene load_steps=6 format=3 uid="uid://clyl3cmvc65i7"]

[ext_resource type="Script" uid="uid://dtjlfg2gkj83a" path="res://Scenes/maps/baseMap.gd" id="1_base"]
[ext_resource type="Texture2D" uid="uid://ceamca3k78dv1" path="res://Assets/maps/map0.png" id="2_texture"]
[ext_resource type="Script" uid="uid://dsb0uhqua3swo" path="res://Scenes/maps/EnemySpawner.gd" id="3_spawner"]
[ext_resource type="Script" uid="uid://crqd2cjl880a1" path="res://Scenes/maps/AutoFitCamera.gd" id="4_autofit"]

[sub_resource type="Curve2D" id="Curve2D_map0"]
_data = {
"points": PackedVector2Array(180, 200, 0, 0, 24, 547, 0, 0, 0, 0, 469, 547, -7.25223, -0.231781, 7.25223, 0.231781, 464, 443, -4.82043, -2.66663, 4.82043, 2.66663, 622, 436, 0.615479, 2.00005, -0.615479, -2.00005, 628, 241, 0, 0, 0, 0, 583.595, 239.12, 0, 0, 0, 0, 476.157, 231.682, 0.615479, 1.33337, -0.615479, -1.33337, 293, 236, 0, 0, 0, 0, 285, 341, 0, 0, 0, 0, 280, 437, 0, 0, 0, 0, 462, 451, 0, 0, 0, 0, 461.974, 597.976, 6.46164, 2.61545, -6.46164, -2.61545, 455, 710, 0.615479, -5.07684, -0.615479, 5.07684, 209, 724, -2.05124, 4.66675, 2.05124, -4.66675, 209, 955, -3.99994, -3.23071, 3.99994, 3.23071, 463, 952, 0.157532, 3.18839, -0.157532, -3.18839, 470, 664, 5.345, 9.06369, -5.345, -9.06369, 781, 677, 0.157532, 7.18881, -0.157532, -7.18881, 786, 939)
}
point_count = 19

[node name="Map0" type="Node2D"]
position = Vector2(0, -1)
script = ExtResource("1_base")

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(100, 100)
texture = ExtResource("2_texture")

[node name="Camera2D" type="Camera2D" parent="."]
script = ExtResource("4_autofit")

[node name="PathSpawner" type="Path2D" parent="."]
position = Vector2(-418, -669)
curve = SubResource("Curve2D_map0")
script = ExtResource("3_spawner")

[node name="SpawnDelay" type="Timer" parent="PathSpawner"]
wait_time = 0.2
one_shot = true

[node name="WaveDelayTimer" type="Timer" parent="PathSpawner"]
wait_time = 5.0
one_shot = true
autostart = true

[node name="Turrets" type="Node2D" parent="."]

[node name="Projectiles" type="Node2D" parent="."]

[node name="Obstacles" type="Area2D" parent="."]
collision_layer = 2
collision_mask = 2

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Obstacles"]
position = Vector2(171, -57)
polygon = PackedVector2Array(-587, -94, -182, -94, -170, -146, -313, -146, -350, -209, -342, -374, -302, -420, -102, -423, 52, -408, 72, -363, 72, -346, -253, -340, -265, -217, -19, -217, -16, -346, 61, -343, 75, -251, 52, -177, 24, -137, -62, -146, -73, -29, -73, 3, -73, 17, 146, 14, 209, 17, 235, 40, 238, 291, 192, 294, 160, 288, 149, 85, -59, 82, -68, 185, -76, 296, -111, 339, -159, 371, -279, 362, -379, 365, -419, 279, -256, 291, -170, 294, -162, 139, -316, 131, -339, 139, -342, 268, -413, 265, -419, 137, -387, 68, -287, 62, -179, 54, -176, -32, -590, -17)

[connection signal="timeout" from="PathSpawner/SpawnDelay" to="PathSpawner" method="_on_spawn_delay_timeout"]
[connection signal="timeout" from="PathSpawner/WaveDelayTimer" to="PathSpawner" method="_on_wave_delay_timer_timeout"]
